.hilo-game-container {
  // width: 100%;
  min-width: 370px;
  height: 750px;
  background: linear-gradient(135deg, #1a1d29 0%, #2d3142 100%);
  display: flex;
  flex-direction: column;
  padding: 20px;
  font-family: 'Montserrat', sans-serif;
  color: white;
}

/* Top Section - Card Legends and Current Card */
.card-legend-section {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 20px;
  height: 400px;
}

.legend-card {
  display: flex;
  flex-direction: column;
  align-items: center;
  opacity: 0.7;

  .legend-card-content {
    width: 80px;
    height: 100px;
    background: #f5f5f5;
    border: 2px solid #ddd;
    border-radius: 8px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    margin-bottom: 10px;
    position: relative;

    .legend-value {
      font-size: 24px;
      font-weight: bold;
      color: #333;
    }

    .legend-suit {
      font-size: 20px;
      color: #333;
      margin: 5px 0;
    }

    .legend-arrow {
      position: absolute;
      bottom: 5px;
      right: 5px;
      font-size: 16px;
      color: #666;
    }
  }

  .legend-text {
    font-size: 12px;
    text-align: center;
    color: #ccc;
    font-weight: 500;
  }
}

.current-card-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;

  .current-card-back-img {
    fill: white;
    width: 109%;
    height: 107%;
    margin-left: -8px;
    margin-top: -8px;
  }

  .current-card {
    width: 200px;
    height: 280px;
    background: white;
    border-bottom: 3px solid #333;
    border-radius: 8px;
    display: flex;
    flex-direction: column;
    position: relative;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);

    // Card back styling
    &.card-back {
      background: #1a1a1a;
      border: 3px solid #333;
      display: flex;
      align-items: center;
      justify-content: center;

      .card-back-img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 5px;
      }
    }

    // Flipping animation
    &.flipping {
      animation: cardFlip 0.3s ease-in-out;

      .card-back-img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 5px;
      }
    }

    .card-back-img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 5px;
    }

    .card-overlap1 {
      position: absolute;
      border-top: none;
      border-right: none;
      border-left: none;
      border-bottom: 3px solid #333;
      border-bottom-left-radius: 8px;
      border-bottom-right-radius: 8px;
      bottom: -3px;
      width: 100%;
      height: 4px;
      background-color: #f0f0f0;
    }

    .card-overlap2 {
      position: absolute;
      border-top: 1px solid rgba(128, 128, 128, 0.63);
      border-right: none;
      border-left: none;
      border-bottom: 3px solid #333;
      border-bottom-left-radius: 8px;
      border-bottom-right-radius: 8px;
      bottom: -6px;
      width: 100%;
      height: 4px;
      background-color: #f0f0f0;
    }

    .card-overlap3 {
      position: absolute;
      border-top: 1px solid rgba(128, 128, 128, 0.63);
      border-right: none;
      border-left: none;
      border-bottom: 3px solid #333;
      border-bottom-left-radius: 8px;
      border-bottom-right-radius: 8px;
      bottom: -9px;
      width: 100%;
      height: 4px;
      background-color: #f0f0f0;
    }

    .card-overlap4 {
      position: absolute;
      border-top: 1px solid rgba(128, 128, 128, 0.63);
      border-right: none;
      border-left: none;
      border-bottom: 3px solid #333;
      border-bottom-left-radius: 8px;
      border-bottom-right-radius: 8px;
      bottom: -12px;
      width: 100%;
      height: 4px;
      background-color: #f0f0f0;
    }

    .card-value {
      font-size: 50px;
      font-weight: bold;
      color: #e9113c;
      margin-bottom: 10px;
      margin-left: -100px;
    }

    .card-suit {
      font-size: 32px;
      margin-top: -15px;
      margin-left: -100px;

      &.black {
        color: #333;
      }

      &.red {
        color: #e74c3c;
      }
    }

    .card-arrow {
      position: absolute;
      bottom: 10px;
      right: 10px;
      font-size: 20px;
      color: #666;
    }
  }

  // Card flipping animation keyframes
  @keyframes cardFlip {
    0% {
      transform: rotateY(0deg);
    }

    50% {
      transform: rotateY(90deg);
    }

    100% {
      transform: rotateY(0deg);
    }
  }

  // .current-card-small {

  //   .card-value {
  //     font-size: 40px !important;
  //     margin-bottom: 0px !important;
  //     margin-left: -65px !important;
  //   }

  //   .card-suit {
  //       font-size: 21px !important;
  //       img{
  //           width: 28px !important;
  //           margin-left: -25px !important;
  //       }
  //   }
  // }

  // Position the >> button in top-right corner
  .next-card-btn {
    position: absolute;
    top: -20px; // Extend beyond top border
    right: -15px; // Extend beyond right border
    width: 45px;
    height: 40px;
    background: #4a5568;
    border: 2px solid #2d3748;
    border-radius: 4px;
    color: white;
    font-size: 12px;
    font-weight: bold;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10;
    transition: all 0.3s ease;

    button {
      background: none;
      border: none;
      color: white;
      font-size: 12px;
      font-weight: bold;
      cursor: pointer;
      padding: 0;
      width: 100%;
      height: 100%;
      margin-top: 0px;
      min-width: 30px;
    }

    &:hover {
      background: #2d3748;
      transform: scale(1.05);
    }
  }

  .skip-button {
    margin-top: 15px;
    width: 40px;
    height: 40px;
    background: #444;
    border: none;
    border-radius: 50%;
    color: white;
    font-size: 18px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background 0.3s;

    &:hover {
      background: #666;
    }
  }
}

.guess-btn-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  position: relative;

  .centered {
    width: 100%;
    font-size: 20px;
    font-weight: 550;
    color: #1a1a1a;
    position: absolute;
    top: 28%;
    left: 50%;
    transform: translate(-50%, -50%);
  }
}

/* Middle Section - Betting Options */
.betting-section {
  display: flex;
  margin-bottom: 10px;
  gap: 20px;
  background-color: #131526;
  height: 100px;
  padding-left: 15px;
  padding-right: 15px;
  flex-direction: row;
  align-content: center;
  align-items: center;
  justify-content: center;

}

.bet-option {
  flex: 1;

  .bet-header {
    display: flex;

    .bet-title {
      font-size: 14px;
      color: #ccc;
      font-weight: 500;
    }
  }

  .bet-content {
    display: flex;
    align-items: center;
    justify-content: space-between;
    background: #2a2d3a;
    border-radius: 2px;
    border: 1px solid #3a3d4a;
    height: 40px;

    .bet-input {
      font-size: 24px;
      margin-right: 15px;
      width: 70%;
      display: flex;
      align-items: center;

      .arrow-img {
        width: 20px;
        height: 20px;
        padding: 10px;
      }
    }

    .bet-amount {
      font-size: 24px;
      font-weight: bold;
      color: white;
      margin-right: 10px;
    }

    .bet-currency {
      width: 20px;
      height: 20px;
      background: #FFD700;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      font-weight: bold;
      color: #333;
      margin-right: 3px;
    }
  }

  .bet-button {
    width: 100%;
    height: 50px;
    border: none;
    border-radius: 8px;
    font-size: 16px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s;

    &.higher-button {
      background: linear-gradient(135deg, #4CAF50, #45a049);
      color: white;

      &:hover {
        background: linear-gradient(135deg, #45a049, #3d8b40);
        transform: translateY(-2px);
      }
    }

    &.lower-button {
      background: linear-gradient(135deg, #f44336, #d32f2f);
      color: white;

      &:hover {
        background: linear-gradient(135deg, #d32f2f, #b71c1c);
        transform: translateY(-2px);
      }
    }
  }

  &.total-option {
    .bet-content {
      justify-content: center;
    }
  }
}

/* Bottom Section - Game History and Controls */
.game-history-section {
  flex: 1;
  display: flex;
  flex-direction: column;
  background-color: #131526;
  padding: 5px;
  overflow: auto;
  /* Prevent the section from expanding */

  .current-card-container {
    display: flex;
    flex-direction: row;
    align-items: center;
    position: relative;
    justify-content: flex-start;
    height: 100%;
    width: 100%;
    overflow-x: auto;
    /* Allow horizontal scrolling */
    overflow-y: hidden;
    /* Prevent vertical scrolling */
    scrollbar-width: thin;
    /* For Firefox */
    scrollbar-color: #4a5568 #2d3748;
    /* For Firefox */

    /* Custom scrollbar for webkit browsers */
    &::-webkit-scrollbar {
      height: 6px;
    }

    &::-webkit-scrollbar-track {
      background: #2d3748;
      border-radius: 3px;
    }

    &::-webkit-scrollbar-thumb {
      background: #4a5568;
      border-radius: 3px;
    }

    &::-webkit-scrollbar-thumb:hover {
      background: #2d3748;
    }

    .current-card {
      width: 120px;
      height: 170px;
      background: white;
      border: 3px solid #333;
      border-radius: 8px;
      display: flex;
      flex-direction: column;
      position: relative;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
      z-index: 2;
      flex-shrink: 0;
      /* Prevent cards from shrinking */
      margin-right: 3px;
      /* Add spacing between cards */

      // Flipping animation for bottom card
      &.flipping {
        animation: cardFlip 0.3s ease-in-out;

        .card-back-img {
          width: 100%;
          height: 100%;
          object-fit: cover;
          border-radius: 5px;
        }
      }

      .current-card-back-img {
        fill: white;
        width: 108%;
        height: 100%;
        padding-left: 3px;
        margin-top: 0px;
        object-fit: cover;
        border-radius: 10px;
      }

      .card-value {
        font-size: 50px;
        font-weight: bold;
        color: #e9113c;
        margin-bottom: 10px;
        margin-left: -40px;
      }

      .card-suit {
        font-size: 32px;
        margin-left: -40px;

        &.black {
          color: #333;
        }

        &.red {
          color: #e74c3c;
        }
      }

      .card-multiplier {
        margin-top: 30px;
        background-color: #00e701;
        border-radius: 2px;
        height: 50px;
        width: 100%;
        color: black;
        font-weight: 500;

        &.game-lost-multiplier {
          background-color: #e81344 !important;
        }
      }
    }

    .card-skip {
      background: #afafaf;
    }
  }
}

.game-history {
  display: flex;
  // gap: 10px;
  margin-bottom: 20px;
  overflow-x: auto;
  padding-bottom: 10px;
}

.history-card {
  min-width: 120px;
  display: flex;
  flex-direction: column;
  align-items: center;

  .history-card-content {
    width: 80px;
    height: 100px;
    background: white;
    border: 2px solid #ddd;
    border-radius: 8px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    margin-bottom: 10px;

    .history-value {
      font-size: 20px;
      font-weight: bold;
      margin-bottom: 5px;

      &.black {
        color: #333;
      }

      &.red {
        color: #e74c3c;
      }
    }

    .history-suit {
      font-size: 18px;

      &.black {
        color: #333;
      }

      &.red {
        color: #e74c3c;
      }
    }
  }

  .history-result {
    display: flex;
    align-items: center;
    margin-bottom: 10px;

    .result-icon {
      color: #4CAF50;
      font-size: 16px;
      margin-right: 5px;
    }

    .result-arrow {
      font-size: 16px;

      &.higher {
        color: #4CAF50;
      }

      &.lower {
        color: #f44336;
      }
    }
  }

  .history-button {
    padding: 8px 16px;
    border: none;
    border-radius: 6px;
    font-size: 12px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s;

    &.start-button {
      background: #2196F3;
      color: white;

      &:hover {
        background: #1976D2;
      }
    }

    &.multiplier-button {
      background: #4CAF50;
      color: white;

      &:hover {
        background: #45a049;
      }
    }
  }
}

/* Responsive Design */
@media (max-width: 768px) {

  // .current-card {
  //   width: 140px !important;
  //   height: 200px !important;

  //   .card-value {
  //     margin-left: -55px !important;
  //   }

  //   .card-suit {
  //     margin-left: -55px !important;
  //   }
  // }

  .hilo-game-container {
    padding: 10px;
  }

  .card-legend-section {
    flex-direction: column;
    gap: 20px;
  }

  .betting-section {
    flex-direction: column;
    gap: 15px;
  }

  .game-history {
    gap: 15px;
  }

  .game-controls {
    flex-direction: column;
    gap: 15px;
  }
}

/* Card Animation Styles */
.animating-card {
  position: relative !important;
  z-index: 100;
  margin: 0 auto;

  &.top-right {
    animation: disappearTopRight 0.6s ease-in-out forwards;
  }

  &.top-left {
    animation: disappearTopLeft 0.6s ease-in-out forwards;
  }
}

// /* Bottom section animations */
.animating-card-bottom {
  position: relative !important;
  z-index: 100;

  &.top-right {
    animation: disappearBottomLeft 0.6s ease-in-out forwards;
  }

  &.top-left {
    animation: disappearBottomRight 0.6s ease-in-out forwards;
  }
}

// /* New card animation for bottom section - slides in from right */
.new-card-bottom {
  position: absolute !important;
  z-index: 200;
  animation: slideInFromRight 0.3s ease-out forwards;
  --slide-distance: 600px;
  /* Default fallback value */
  --card-position: 0px;
  /* Position of the end card */
}

// /* Animation keyframes for new card sliding in from right (bottom section) */
@keyframes slideInFromRight {
  0% {
    transform: translate(var(--slide-distance, 600px), 0) rotate(0deg) scale(1);
    opacity: 0;
  }

  100% {
    transform: translate(var(--card-position, 0px), 0) rotate(0deg) scale(1);
    opacity: 1;
  }
}

/* Animation keyframes for disappearing to top-right */
@keyframes disappearTopRight {
  0% {
    transform: translate(0, 0) rotate(0deg) scale(1);
    opacity: 1;
  }

  100% {
    transform: translate(300px, -300px) rotate(15deg) scale(0.3);
    opacity: 0;
  }
}

/* Animation keyframes for disappearing to top-left */
@keyframes disappearTopLeft {
  0% {
    transform: translate(0, 0) rotate(0deg) scale(1);
    opacity: 1;
  }

  100% {
    transform: translate(-300px, -300px) rotate(-15deg) scale(0.3);
    opacity: 0;
  }
}

/* Animation keyframes for bottom card disappearing to left */
@keyframes disappearBottomLeft {
  0% {
    transform: translate(0, 0) rotate(0deg) scale(1);
    opacity: 1;
  }

  100% {
    transform: translate(0, 0) rotate(0deg) scale(0.5);
    opacity: 0;
  }
}

/* Animation keyframes for bottom card disappearing to right */
@keyframes disappearBottomRight {
  0% {
    transform: translate(0, 0) rotate(0deg) scale(1);
    opacity: 1;
  }

  100% {
    transform: translate(0, 0) rotate(0deg) scale(0.5);
    opacity: 0;
  }
}

/* Ensure the card container can handle positioned elements */
.current-card-container {
  position: relative;
  height: 283px;
  width: 200px;
}

/* Card History Row - Remove this since we're using the container directly */
.card-history-row {
  display: flex;
  flex-direction: row;
  align-items: center;
  // gap: 10px;
  // overflow-x: auto;
  overflow-y: auto;
  padding: 10px 0;
  width: 100%;
  height: 100%;
  scrollbar-width: thin;
  scrollbar-color: #4a5568 #2d3748;

  &::-webkit-scrollbar {
    height: 6px;
  }

  &::-webkit-scrollbar-track {
    background: #2d3748;
    border-radius: 3px;
  }

  &::-webkit-scrollbar-thumb {
    background: #4a5568;
    border-radius: 3px;
  }

  &::-webkit-scrollbar-thumb:hover {
    background: #2d3748;
  }

  .history-card {
    position: relative;
    flex-shrink: 0;
    margin-right: 0;
  }

  .choice-indicator {
    position: absolute !important;
    top: 50%;
    transform: translateY(-50%);
    width: 45px;
    height: 45px;
    background: #ffffff;
    border: 2px solid #e0e0e0;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 20;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
    transition: all 0.2s ease;

    &:hover {
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      transform: translateY(-50%) scale(1.05);
    }

    .choice-icon {
      width: 24px;
      height: 24px;
      filter: brightness(0) saturate(100%) invert(27%) sepia(51%) saturate(2878%) hue-rotate(346deg) brightness(104%) contrast(97%);
    }
  }

  /* Special styling for the last indicator that goes over the next card */
  .choice-indicator.last-indicator {
    right: -35px;
    z-index: 15;
    background: #ffffff;
    border: 2px solid #d0d0d0;
    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.2);
  }

  // /* Red V-shape for lower choice */
  // .choice-indicator[data-choice="lower"]::after {
  //   background: #e74c3c;
  //   clip-path: polygon(0% 0%, 100% 0%, 50% 100%);
  // }

  // /* Red diamond for higher choice */
  // .choice-indicator[data-choice="higher"]::after {
  //   background: #e74c3c;
  //   clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%);
  // }

  // /* Red double arrow for skip choice */
  // .choice-indicator[data-choice="skip"]::after {
  //   background: #f39c12;
  //   clip-path: polygon(0% 0%, 40% 0%, 40% 40%, 100% 40%, 100% 60%, 40% 60%, 40% 100%, 0% 100%);
  // }
}

/* New card animation for bottom section - slides in from right */
.new-card-bottom {
  position: absolute !important;
  z-index: 200;
  animation: slideInFromRight 0.3s ease-out forwards;
  --slide-distance: 800px;
  /* Default fallback value */
  --card-position: 0px;
  /* This will be calculated dynamically */
}

/* Animation keyframes for new card sliding in from right (bottom section) */
@keyframes slideInFromRight {
  0% {
    transform: translate(var(--slide-distance, 800px), 0) rotate(0deg) scale(1);
    opacity: 0;
  }

  100% {
    transform: translate(var(--card-position, 0px), 0) rotate(0deg) scale(1);
    opacity: 1;
  }
}

@media (max-width: 770px) {
  .hilo-game-container {
    padding: 10px;
  }

  .card-legend-section {
    flex-direction: initial;
    gap: 20px;
    padding: 10px;


    // Hide desktop versions, show mobile versions
    .bg-hi-desktop,
    .bg-lo-desktop {
      display: none;
    }

    .bg-hi-mobile,
    .bg-lo-mobile {
      display: block;
    }
  }

  // Hide desktop skip button, show mobile version
  .next-card-btn-desktop {
    display: none;
  }

  // Mobile action buttons
  .mobile-action-buttons {
    display: flex;
    gap: 20px;
    justify-content: center;
    margin-top: 10px;
  }

  .mobile-action-btn {
    background: none;
    border: none;
    cursor: pointer;
    padding: 0;
    transition: transform 0.2s ease;

    &:hover {
      transform: scale(1.1);
    }

    &:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
  }

  .card-legend-section {
    .current-card {
      width: 140px !important;
      height: 200px !important;

      .card-value {
        margin-left: -55px !important;
      }

      .card-suit {
        margin-left: -55px !important;
      }
    }
  }

  .betting-section {
    display: block;
    flex-direction: column;
    gap: 15px;

    .bet-content {
      padding-left: 10px;
      justify-content: space-between !important;
      padding-right: 5px;
    }
  }

  .game-history {
    gap: 10px;
  }

  .game-controls {
    flex-direction: column;
    gap: 10px;
  }

  .current-card-container {
    .next-card-btn {
      left: -20px;
      top: -20px;

    }
  }

  .higher-option {
    display: none;
  }

  .lower-option {
    display: none;
  }
}

// Default desktop styles
.bg-hi-mobile,
.bg-lo-mobile {
  display: none;
}

.next-card-btn-mobile {
  display: none;
}

.mobile-action-buttons {
  display: none;
}

/* Make sure the next card has lower z-index */
.next-card {
  background: #2a2a2a !important;
  border: 2px solid #555 !important;
  z-index: 10;
  /* Lower than indicators */

  .current-card-back-img {
    opacity: 0.7;
  }
}

/* Ensure the card history row allows proper positioning */
.card-history-row {
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 0;
  overflow-x: auto;
  overflow-y: hidden;
  padding: 10px 0;
  width: 100%;
  height: 100%;
  position: relative;
  /* Add this */

  .history-card {
    flex-shrink: 0;
    margin-right: 0;
    position: relative;
    z-index: 5;
    /* Lower than indicators */
  }
}

/* Position each indicator based on its index */
.choice-indicator:nth-child(1) {
  left: 95px;
}

/* After first card */
.choice-indicator:nth-child(2) {
  left: 215px;
}

/* After second card */
.choice-indicator:nth-child(3) {
  left: 335px;
}

/* After third card */
/* Add more as needed */

/* Red border for the top card when lost */
.current-card-container .current-card .game-lost {
  width: 100%;
  height: calc(100% - 3px);
  position: absolute;
  outline: 6px solid #e81344 !important;
  border-radius: 8px;
  z-index: 5;
}

/* Collecting animation: move history cards to the first position and shrink */
.card-history-row.collecting {

  .history-card,
  .choice-indicator {
    animation: collectToFirst 0.8s ease-in forwards;
    transform-origin: center center;
    /* Each card uses its own offset to travel back to the first card */
    --collect-offset: 0px;
  }
}

@keyframes collectToFirst {
  0% {
    transform: translateX(0px) scale(1);
    opacity: 1;
  }

  60% {
    transform: translateX(calc(var(--collect-offset, 0px) * -1)) scale(0.8);
    float: left;
    opacity: 0.9;
  }

  100% {
    transform: translateX(calc(var(--collect-offset, 0px) * -1)) scale(0.6);
    transform: translateY(calc(500px)) scale(0);
    float: left;
    opacity: 0.8;
  }
}